<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard ‚Ä¢ Unidade Bandeirantes-290</title>
  <style>
    :root{
      --bg:#f6f7fb;--surface:#ffffff;--text:#0f172a;--muted:#64748b;--border:#e5e7eb;
      --accent:#22c55e;--accent-ink:#052e16;--danger:#ef4444;--warn:#f59e0b;--ok:#10b981;--shadow:0 10px 30px rgba(2,6,23,.08);--radius:16px;
      --fs-h1:clamp(1.8rem,1.3rem+1.6vw,2.6rem);--fs-lg:1rem;--fs-sm:.9rem
    }
    [data-theme="dark"]{--bg:#0b1020;--surface:#0f1629;--text:#e5e7eb;--muted:#94a3b8;--border:#1f2937;--accent:#22d36a;--accent-ink:#052e16;--shadow:0 10px 30px rgba(0,0,0,.45)}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,"Helvetica Neue",Helvetica,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

    /* Header */
    header{position:relative;display:grid;gap:12px;justify-items:center;text-align:center;padding:26px 16px}
    .brand{display:grid;justify-items:center}
    h1{margin:0;font-size:var(--fs-h1);font-weight:900}
    .subtitle{color:var(--muted);font-size:1.15rem;font-weight:800;margin-top:6px}
    .header-actions{position:absolute;top:14px;right:16px;display:flex;gap:10px}
    .icon-btn{border:1px solid var(--border);background:var(--surface);color:var(--text);border-radius:999px;padding:8px 12px;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:var(--shadow)}
    .icon-btn:hover{background:color-mix(in oklab,var(--accent) 14%,var(--surface))}

    /* Tabs */
    .tabs{position:sticky;top:0;z-index:30;display:flex;gap:8px;flex-wrap:nowrap;justify-content:center;padding:8px 16px 12px;margin:0;background:linear-gradient(var(--bg),color-mix(in oklab,var(--bg) 78%,transparent));backdrop-filter:blur(4px);border-bottom:1px solid var(--border);overflow-x:auto;scrollbar-width:thin;-webkit-overflow-scrolling:touch}
    .tab{appearance:none;border:1px solid var(--border);background:var(--surface);color:var(--text);border-radius:999px;padding:10px 18px;font-size:1.15rem;font-weight:900;cursor:pointer;transition:background .2s ease,border-color .2s ease,transform .15s ease;position:relative}
    .tab:hover{background:color-mix(in oklab,var(--accent) 12%,var(--surface));transform:translateY(1px)}
    .tab.active{background:var(--text);color:#fff;border-color:var(--text)}
    .tab .badge-pill{position:absolute;top:-6px;right:-6px;background:var(--accent);color:var(--accent-ink);border-radius:999px;font-size:.7rem;font-weight:900;padding:2px 6px;border:1px solid var(--border)}

    /* KPIs */
    .kpis{max-width:1200px;margin:0 auto;padding:8px 16px 0;display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .kpi-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:12px 14px;display:grid;gap:6px}
    .kpi-title{color:var(--muted);font-size:.9rem;font-weight:700}
    .kpi-value{font-size:1.4rem;font-weight:900}
    .kpi-hint{font-size:.8rem;color:var(--muted)}

    /* Cards */
    .main{max-width:1200px;margin:0 auto;padding:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.card{
      position:relative; background:var(--surface); border:1px solid var(--border); border-radius:var(--radius);
      box-shadow:var(--shadow); overflow:clip; outline:none; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      display:grid; grid-template-rows:auto 1fr auto; min-height:180px; isolation:isolate;}

    .card:where(:hover,:focus-within){transform:translateY(3px);border-color:color-mix(in oklab,var(--accent) 30%,var(--border));box-shadow:0 18px 50px rgba(2,6,23,.12)}
    .card-header{display:flex;align-items:center;gap:12px;padding:14px}
    .card-thumb{
      position: relative;
      top: em;
      left: 9.em;
      width: 70px;
      height: 70px;
      transition: .4s ease-in-out;
      border-radius: 10px;
}
    .card-title{font-weight:700;font-size:var(--fs-lg)}
    .card-sub{color:var(--muted);font-size:var(--fs-sm)}
    .card-body{padding:0 14px 6px;display:grid;gap:8px}
    .kv{display:grid;gap:6px;font-size:var(--fs-sm)}
    .kv b{font-weight:600;color:var(--muted)}
    .kpi{display:grid;gap:8px}
    .badge{display:inline-flex;align-items:center;gap:6px;background:color-mix(in oklab,var(--accent) 20%,transparent);color:var(--text);border:1px solid color-mix(in oklab,var(--accent) 40%,var(--border));padding:6px 8px;border-radius:999px;font-size:.8rem;font-weight:700;width:max-content}
    .progress{height:8px;background:color-mix(in oklab,var(--surface) 70%,var(--bg));border-radius:999px;border:1px solid var(--border);overflow:hidden}
    .progress > i{display:block;height:100%;width:0;transition:width .4s ease, background-color .2s ease}
    .progress > i.bad{background:var(--danger)}
    .progress > i.warn{background:var(--warn)}
    .progress > i.ok{background:var(--ok)}
    .spark{width:100%;height:36px}
    .card-footer{display:flex;align-items:center;justify-content:space-between;padding:6px 14px 14px}
    .price{font-weight:800;letter-spacing:.2px}
    .btn{appearance:none;border:1px solid var(--border);background:var(--text);color:#fff;font-weight:700;font-size:.9rem;border-radius:12px;padding:10px 12px;cursor:pointer;transition:transform .15s ease,background-color .2s ease,color .2s ease,border-color .2s ease}
    .btn:hover{background:var(--accent);color:var(--accent-ink);border-color:transparent;transform:translateY(1px)}

    /* Skeleton */
    .card.loading::after{content:'';position:absolute;inset:0;background:linear-gradient(110deg,transparent 0%,color-mix(in oklab,var(--bg) 85%,var(--surface)) 40%,transparent 80%);background-size:200% 100%;animation:shimmer 1.4s linear infinite;pointer-events:none}
    @keyframes shimmer{to{background-position-x:-200%}}

    /* Overlay/Form */
    .overlay{position:fixed;inset:0;display:none;place-items:center;background:color-mix(in oklab,black 35%,transparent);backdrop-filter:blur(3px);z-index:50;padding:16px}
    .overlay.active{display:grid}
    .form{width:min(560px,92vw);background:var(--surface);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);padding:18px;display:grid;gap:12px;position:relative}
    .form h2{margin:0 0 4px;font-size:1.05rem}
    .form .close{position:absolute;top:10px;right:10px;border:none;background:transparent;color:var(--muted);font-size:20px;cursor:pointer;line-height:1}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media(max-width:560px){.row{grid-template-columns:1fr}}
    .field{display:grid;gap:6px}
    .label{font-size:.85rem;color:var(--muted)}
    .hint{font-size:.75rem;color:var(--muted)}
    .error-msg{font-size:.8rem;color:var(--danger);min-height:1em}
    .input{width:100%;border:1px solid var(--border);background:transparent;color:var(--text);border-radius:10px;padding:10px 12px;font-size:1rem;outline:none}
    .input:focus{border-color:var(--accent);box-shadow:0 0 0 3px color-mix(in oklab,var(--accent) 25%,transparent)}
    .input[readonly]{background:color-mix(in oklab,var(--surface) 70%,var(--bg));color:var(--muted)}
    .input.error{border-color:var(--danger)!important;box-shadow:0 0 0 3px color-mix(in oklab,var(--danger) 30%,transparent)!important}
    .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:4px}
    .btn-secondary{background:transparent;color:var(--text);border-color:var(--border)}
    .btn-secondary:hover{background:color-mix(in oklab,var(--accent) 12%,transparent);color:var(--text)}

    /* Materiais */
    .materials{max-width:1200px;margin:10px auto 40px;padding:0 16px}
    .materials h3{margin:10px 0 6px}
    .grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
    .res-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:var(--shadow);display:grid;gap:8px}
    .res-card .tag{font-size:.75rem;color:var(--muted)}
    .res-card a{color:var(--text);font-weight:700;text-decoration:none}
    .res-card a:hover{color:var(--accent)}

    .toast{position:fixed;bottom:18px;left:50%;translate:-50% 0;background:var(--text);color:#fff;border-radius:12px;padding:10px 14px;font-size:.9rem;box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:opacity .25s ease,translate .25s ease;z-index:60}
    .toast.show{opacity:1;translate:-50% -6px}

    @media (prefers-reduced-motion:reduce){*{transition:none!important;animation:none!important}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <h1>Unidade de Bandeirantes-290</h1>
      <p class="subtitle">Opera√ß√£o ‚Ä¢ Estoques ‚Ä¢ Pessoas ‚Ä¢ Armazenagem</p>
    </div>
    <div class="header-actions">
      <button id="themeToggle" class="icon-btn" title="Alternar tema">üåó Tema</button>
      <button id="refreshBtn" class="icon-btn" title="Atualizar">‚ü≥ Atualizar</button>
    </div>
    <nav class="tabs" id="tabs" aria-label="Se√ß√µes do painel">
      <button class="tab active" data-cat="operacao">üìä Opera√ß√£o</button>
      <button class="tab" data-cat="estoques">üåæ Estoques</button>
      <button class="tab" data-cat="pessoas">üë• Pessoas</button>
      <button class="tab" data-cat="armazenagem">üè≠ Armazenagem</button>
    </nav>
  </header>

  <!-- KPIs (apenas na aba Opera√ß√£o) -->
  <section class="kpis" id="kpis">
    <article class="kpi-card">
      <div class="kpi-title">Estoque total (Soja+Milho+Trigo+Lenha)</div>
      <div class="kpi-value" id="kpi-estoque">--</div>
      <div class="kpi-hint" id="kpi-estoque-hint">√∫ltima atualiza√ß√£o</div>
    </article>
    <article class="kpi-card">
      <div class="kpi-title">Meta m√©dia (%)</div>
      <div class="kpi-value" id="kpi-meta">--%</div>
      <div class="kpi-hint">progresso m√©dio das metas</div>
    </article>
    <article class="kpi-card">
      <div class="kpi-title">Ocupa√ß√£o Armazenagem</div>
      <div class="kpi-value" id="kpi-armazenamento">--%</div>
      <div class="kpi-hint">utilizado / capacidade</div>
    </article>
    <article class="kpi-card">
      <div class="kpi-title">Ativa√ß√£o de Pessoas</div>
      <div class="kpi-value" id="kpi-pessoas">--%</div>
      <div class="kpi-hint">ativos / total</div>
    </article>
  </section>

  <main class="main" id="cards">
    <!-- SOJA -->
    <article class="card" data-key="soja" data-cat="estoques">
      <div class="card-header">
        <img class="card-thumb" alt="Soja" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLphsgF8Gd-H382zicb-9935K4CkmAT6fMeg&s"/>

        <div><div class="card-title">Soja</div><div class="card-sub">Estoque, meta, recebimento</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-soja">
          <div><b>Estoque:</b> <span data-f="estoque">--</span></div>
          <div><b>Meta:</b> <span data-f="meta">--</span></div>
          <div><b>Recebimento:</b> <span data-f="recebimento">--</span></div>
        </div>
        <div class="kpi">
          <span class="badge">Meta: <strong><span data-f="percentual">--</span>%</strong></span>
          <div class="progress"><i data-prog="soja"></i></div>
          <svg class="spark" data-spark="soja" viewBox="0 0 120 36" preserveAspectRatio="none"></svg>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-soja">R$: --</div><button class="btn" data-open="soja">Editar</button></div>
    </article>

    <!-- MILHO -->
    <article class="card" data-key="milho" data-cat="estoques">
      <div class="card-header">
        <img class="card-thumb" alt="Milho" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVd159ggYNLzjL2MPJhQyGUtgdX8M5i-NzTYROTaA&usqp=CAE&s"/>
        <div><div class="card-title">Milho</div><div class="card-sub">Estoque, meta, recebimento</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-milho">
          <div><b>Estoque:</b> <span data-f="estoque">--</span></div>
          <div><b>Meta:</b> <span data-f="meta">--</span></div>
          <div><b>Recebimento:</b> <span data-f="recebimento">--</span></div>
        </div>
        <div class="kpi">
          <span class="badge">Meta: <strong><span data-f="percentual">--</span>%</strong></span>
          <div class="progress"><i data-prog="milho"></i></div>
          <svg class="spark" data-spark="milho" viewBox="0 0 120 36" preserveAspectRatio="none"></svg>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-milho">R$: --</div><button class="btn" data-open="milho">Editar</button></div>
    </article>

    <!-- TRIGO -->
    <article class="card" data-key="trigo" data-cat="estoques">
      <div class="card-header">
        <img class="card-thumb" alt="Trigo" src="data:image/jpeg;base64,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"/>
        <div><div class="card-title">Trigo</div><div class="card-sub">Estoque, meta, recebimento</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-trigo">
          <div><b>Estoque:</b> <span data-f="estoque">--</span></div>
          <div><b>Meta:</b> <span data-f="meta">--</span></div>
          <div><b>Recebimento:</b> <span data-f="recebimento">--</span></div>
        </div>
        <div class="kpi">
          <span class="badge">Meta: <strong><span data-f="percentual">--</span>%</strong></span>
          <div class="progress"><i data-prog="trigo"></i></div>
          <svg class="spark" data-spark="trigo" viewBox="0 0 120 36" preserveAspectRatio="none"></svg>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-trigo">R$: --</div><button class="btn" data-open="trigo">Editar</button></div>
    </article>

    <!-- LENHA -->
    <article class="card" data-key="lenha" data-cat="estoques">
      <div class="card-header">
        <img class="card-thumb" alt="Lenha" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMSEhUTExMWFRUXFxgYGBgYFx0ZHhgeGCAXGhodIxcZHSggGxsmGxkXITEhJSorMC4uGB8zODMtNygtLisBCgoKDg0OGxAQGy8iHyYtLS8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTc3Lf/AABEIAMsA+AMBIgACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABQYDBAcBAgj/xAA8EAABAwIEBAMGBAYBBQEBAAABAAIRAyEEBTFBBhJRYXGBkRMiMqGx8AdSwdEUI0JicuHxFUOCksKiM//EABkBAQADAQEAAAAAAAAAAAAAAAACAwQBBf/EACIRAAMAAgIDAAMBAQAAAAAAAAABAgMREiEEEzEUIkFRYf/aAAwDAQACEQMRAD8A7iiIgCIiAIiIAiIgCIiAIir2aZx/NdSafhgHxN48II9VGq0iUy6ekWCV6q9hMURopihi2u3grk2mdqGjZReSvVMgEREAREQBERAEREAREQBERAEREAREQBERAEREAREQBERAERYsTU5Wud0BPouN6BklUTjDL30qj8QwEtfBdGxECT2iPmt/DZmx7pkFxuDMxInUm1jNuqlaeOdEkcw6b/sVneWa6NExUPZTMpzjmtN4+eymcHmZJ5STI6/eiicdkrKpL8JDKgJ5sO5wE92EEjvGl9tFEYTNC1/I8EOZYtNiJ6g3UdNFy40dEoY8jdSFLGgi6o1LNRcztYLbwuc8w28RedOuy6sjRXWEu7agOhT2g6hVY4wxYwsAxDrD4upP+t/RWe0r9TLkih8BmUQ1wPQHVS4KtVbKmmmeoiLpwIiIAiIgCIiAIiIAiIgCIiAIiIAiL4q1Q0SUbB9r5qVA0EkwAJJO0LXOK7KIz/EitQrYfm9k+pTe1rjpJBAvv38VB2iSlmpV4obUP8snlNgdJ7ythmamInmmxBK5HhM4NA+yrSx4tcgg+BBIPqrdkuZ8+4jr16LFV2mehOGHPRpZlhq2EpufRJdA+F0TGtiIEx19VKZLxSzEUwW3mx0kWvPTx7hTAqMeCLHwI/Urn/E/D9bCE4jBs56dy+kIlp15gNxvA077Qlcmdev6X6nhqbmghoBO+hHnrPmozPMvdUb/ADaZrNbZtRrg2szwf/3B/a/Xqq3wlxZ7dpJkXHh0jYakeEhW3CZhzWEhx2nXf6FSTcvRW5T7OdYrMDRdyGpJ25mljx2dTdcHwkHYlSmUZvsTeLKyZzldDES2tSLp3AHunrfv97rn+ccN4nBn2jJq0thq4dp19fVWKpbJbaRfcBjOYgfM6Rr+ymH4jl3HUwZ8NN+y5Xk/EVOpNJ5LJtBsWm0EjpI7q24XMCWsabECCZ18x4qxor+lvw2MDt/JSeDzKLajoqZhMU6RaIm339VP0MRDQREu+XVcltEbhFqo4hrtD5LMqlRrkGfv5KWwma7O9Vcr/wBKKxtfCXRY6dUOEgysisKwiIgCIiAIiIAiIgCIiAIi1swxQpsLzFo16mwRvQNguUHn9ctcz8pBjx/4har8SKk6FwuOa4B++iiuI8BXqsHs6pa9nvN/KSNnN3Bv4Tqs15NrSL4xtPbJjDY4Efd185zlNLF0XUqoJa7cGC07FrhoQqpkeaTao0se1xaQREFsSQTqDIM9CFZsLizptuoJ6+ljn/DiXGP4aY3Bh76DnYihPMeX427y5m/+TfQKN4d4pe1oYSO5j5L9BZhmzaLJgucdGNuT6qk4jg+jmTHVKmHGDrF3MHsA5nRu4aO3kW8VNtUtM5PKXtGvkufhzmsMFoMki2mnlMekbq60MQHCx9FxbN8lxeWVJqtmnMNrMu09J/I7sfKVcuE+JGFsPcAO9u5+/BUXGn0aZapGXiz8Pm1nGvhHChX1LRZlU63A+FxP9Q8xN1B5Xjq2DAONeKTmy0MMF9QNI+ENm08w5iALNgnboLM5aY12MQBr31GoK18+yTD4xnLVbMfC7RzCdw7b6Hou+zfVEODXaI/A54yqWgG5vy+EydYtYdYIU6XkiDBB2P39yuU5nldfLX0nFrq1JpcTVGwMABwHwkAC+hjUzAveQZ6yqBDpsPK07qFzrtfCa7RDcWcEUsUC+j/LqjQwQbRsBJbttETdVD+JxOBHs8WwmkTAqs94dIJAsQdjB8V2ao1rpItK1cbllKsw0q1NrwbHmAOnXex06KcZtdP4VVH9X0qOV5q2pBaQ4RaDOvgpOhxCGgCowkSYOwn5qo5nwVicC81cG7nZcmkSdOx8Ople5dm7cQ17TDajWCabvdd7s83jqPH1V3TW5OJ/yjomCzVlSOVp1gkGPqpEuiDJPfoe+yoWVVOTldJ5ZuPT5qdrcQsp0nVPjhsBo1c4mGifE/XoobJuN/Ccxuf08KA+pU5Z0FyXdgwXKxZb+J+Ge8Mqsq0gTAqPZDb2E3sucBr6rzVrO5nnfZo2aOjR89Svt7A60TNo6zqqPy+NaRb+GnPf07+10r1VHgrOh/DUKb9RTa3mn8tr7jRW1rpXoRapbR5lw5emeoiKZEIiIAiIgCIiAKv8cMqnCP8AYtL3gtdytEkgETA3O8KQzLH8hDGwXkTB2GkqOwudOu1w5qjdQLc3cKq8krplkxT7RR8BmR9y5BvM2jsfPZWajmLXAKs8WVw97qwhr2uAqs7Ee6evNG+48Fp5djj7rpkaDy7eiyv/AIbpXJdlqzDLGuDnMDQ4i8iZ3E72OhBBCrmU546nW9hXb7N0nkJMh7RMQ7QuixFlY8NmAdYaaStPOskp4hhDmgjYyRynqCD5oq0R4aNh2Ia4j80zcdIt9FKYHEknSBZczqYqtg3Btc8zNG1m9Oj40/yHmrVgc3mYcL8pnURA3Hr5qX/TjkuTmsqNLXAOaRBBEgg7EHZUHPvw0pOBdg3exdM8hl1M6abt0HUWsFPYLNZNp7dCfO6nMLiQRrOykr30Q057ORsGJwbuWvTcD+Y+809IfptpM9grBl2Zc3xHXf72V/xNFj2lrmhzTqCJB8iq3jODac81Bxpn8p95v7t9fJVXjf1F0Zk+qFCpTIjWdd/kqznHC5b/ADsA803zzcvL7j+0Ab+BB+asH8BiaYDXCWgz7twfS/qFtYbGDQ22uquTn6T6fxlSyjiV0mlXp+zqD3XNdMSAdBrykfVW3CYhrwAIvoQf17KPz7KKOKEO914B5KrDDmkbTuP7T02VObj8RgHhuIHOzRtYaO6T0dGx9SF3ar4caOrYdnMeUQRF+/aJn/lU7inhrCucCYZVAMOaJIkG57a6/VZsJxHS9kXvfAtFxE+Y100VazLN/wCJcSSW05BayY6jmcdz4rvNT2RjDVMhTXqYY8ji2q2Y52m/g5moPhIgLZdiOZrJFud584EX8OZZAW7QJ3FukkEeMqFxuZCi4gkcpcCIPwm9j0Bkj0Oimr9qaX0t4ep7b6LD7aRaNPL7/deV64psdUPSRsT+14UdTzmjAJe0AaAdvDVadTGuxL/gIotMy4fGR+mtlljBTe30i+80/EWrB8Rso06QAl8XExYAWm2pMqSwP4iVmaUuZv5ene5HyVDo0xzSBKkcIHEe8IKleXg/1CwTa/Y7LwjxfSxwcACyqz4qbtY2cDoR4KyrguTVjQxNCqyeYVGtgf1NeQ1zfCT5ROy7yF6Hj5fZOzyvKw+q9I9REWgzBERAERRHElYimGglvOYJHS5+f7rjekdS29GtnwY57HtPvtta9iZglQpo81QPDiHNM+O+noseJxJ9mQNQNuiiMiz0Pc6jc1GSbm7mg8o87CSLT4rE65s2THFG1xbkDMbT9rQIbWEgEb/2uG46eNlzDLszqUaxw+IYadTbmGvcHfxGviulUc49liyXB/sqlP3A1oI5gbuMmdBEAb7k2cZcLtzLDB1M/wAwDmpkjlPaQdj1XU9dM7tr4ROWY24E26j71lWt+IaBZ1rAz9FyXh/NalOo7DYgFldgIHMI5o/+onx1VowmYkmT1Huz11PquVOi1VyLZmGFZVZBAIOwAlUXG5TWwZ58P71P+qkf/k7eGngrfhKuhmx366fNbLy14giJ+fkq1TT6JaXxkLw1xC2o0wfeEy02c09CDorI2qHBsH3raEjxNugVRzvhUuPtaRNOqNHtv1sRuO11rZJxEWVW0sSPZvDXNn+l+hDgeog+7Yq3fJdFTWn2dBxdR9NjXNc4wZLXFswf/GSRM+W63MNjA9ocCIInxXLM14pdVph8so0j8PM4glxgiQ2TYEHsXX0W7wFxE1zS17oNjBtqPS5J06hTW9Fbg6Di82ZTBLnRGg3PSAqRmXEVSs4lpLWsJ8D27juVjzzHGtX5Wkeza3bqe892nyC0GNAY4CxLiP2v6rLmvXRpwYl9ZJYLP3sDQ9geyIJA98d40PcCOyx5hxBTe0sfSY5rhdjpfYgG5bv4eqw4Zljty79LaqIxNdvN7oDQJA7wSJsqprrei3gtkRjMHLQaLiWNJc6kSeZoE6FwBeBM7kRqV9U6stCkuQOafkf9ql5jmTsPVczUajtO3rKmk83S+ol7Jw/fhZef5qkcR4sPqQNiZ8ZK9xnEFR4ge6Pmoc3Wrx/HePujF5XlTkXGTLh6kEK85O4upBoAIIPYyLgzvbWdlR2YclTvD+YchDHjQ2N9IMj6q3Mtz0VeNXGuye9g55Mf0RAki5EzbXYeq3Mpa4POug1Bi/j2Rr6D7z6GDHQwRIWTE5nTpNEAmTDYFif8tLdl5t/suKXZ7EvT3syZjXcx1MAgEPY4mJ5Q0gzHlp2K61kX4jYLEODC51J5MAVByhxOkOki56riXti67t9UqUpClhzvEuJTm8ZZe2fp4FeqE4Mxjq2Bw1RxlzqTZPUgQT5wpqV6ye1s8RrT0eoiLpwLVzDCiowtOuoPQ7FbSIwc9xDTEGzmmI69QqpxBlTmObiKPuV6ekaEbgjcHddC4pwJa9tVosTDux2PnoorF4UPvfmiAJt3t+vgsVy09o247TRBYHGsxmGa9tLmqU6l6c3YTIcD1YR6jzVsoAn3pIJjsQVz/H4d+AxIxLJ5HQKoG7esbka+o3V/yzFNqNDmOBBaCCDMgwZXdJh9FY444Z/immqT/NZBadIjoQN4VDyrMXFxp1LObqPzD8w8l2jEVxENE7TsOy5LxxkhDhVpe6/4hH7dCoqtPiycJ62iZy3Ggf4k+YVkw2IESBP3Yx1XNchzH2rCdHtI529O47SrTlmaAGT6Ha2/7LlRotVKkWsYs76KNzjLaVdkPaZ1a6Ygi49F5h8a0jafr5lbNbEM5S4GA0cxJgARrrsqvjJ8Ucd4k56bfZcp5JBHUET07bLBkeYe+CHe9FwbXGkT5LoWY4xtQnlptaw35qg1NtG7C+53VYzLh9j7iJ6wB31FwrV5E61RXXj03yksuU1OakX/ANZc6eogyPqszKMtBk6z9bFc4bnGIwb+R/vt2J1IsYnR23qtx3Hr45Wsv4f7KhkwVT3IjNM7T6LzmmLbTbyT7zhMdh2+f/Kg3UC4gwRB2G0aXUBlPEZdUc6sCXHU6wP2+kKe/wCt0Pdh4A3kHT9PHt3Vbx3L46LpuWt7NsNIBJECD5SqTjMD7eqXRaYnTqp+vnQr+7TPuCZdOs7eC9o0gI7Lk08W/wDSxY1kXfwrOO4aLWczVEYHDEk20XQ8Q/3TaJ/4VawWGHtHgalxgffmtfjZqtPkY/KwTDTky4HLS4RYQJJ6dP1Urg8A0WDATcFxE+i26WE5SWi9gXHve3hdbzWwOgH+lXlzN9I7iwpdsiMdl7AATa4Gmmvrf7C+8jzFwpllVocwmCx0mI+kGb69FJ5lTHLc2sfC5UcG6TvJ5Ym379yqvY1JdMbZq5g0N95tmm4gzbzv6rFRxPul2gCzZuWCGm0+8ROkx+y0HVhA2Z9f9KCna+F/LRuUc4xhYxorOYxohoDiCB2jQLs34U8RVsVRfTry6pRLf5mz2umJ/uEEHtC4nQrgkDrZdh/Ben/IxDutUN/9Wg//AEtODJTyaMXlRPr5HRkRFvPMCIiAxYmgHtLXCQRBVGqMNKqabtRaeu4PmI+wr8q/xTlHtQKrP/6UwdP6m6x4g3Hn1ULnaJxWmV/EYVtRhDhMyI1voqxw/Xdh678MCTSqB/K78j4kxb4TIPYkdSrLhK3Oy2p7/ff0UDi6FVwfeCLgETeNYPisrTTNkvaJvAh1GmKZdzG/KYgbnuvvGZYKgMjv3M7/AKQorhvNfas5atqjLOAOv5XDsb+BVhpVbgTfXyv/ALUalf06m0ca4kyp+Cr+3pgkaPHUHUfseoC3cLimvLHA2dynyBGve1/NX/iHLGVWumLnp1F1yfNsLVwdQlg5qcmW/K3QwpRW/wBWSpaXOTomCIAMR7w0UVm2O5nOBuxlo/O8WE+EtjzUXw/nbKrWgOgtI/yaZ6bhMWwzT1I5jNpuQYJjufkoZp4luCuRmGHc8c1R0nWNm7aduqxUKF5aTGtvl991s1B7QAGQ02I01+glZiQJAED9CsfI2JFX4zw4NOQL3+UH9XW79lX8qyku954ICtWeVJLac/FJI7bWi+hjQi/VfeHaA0Ba/c4xpGX8ecmR0YsHk+wAFiP/AGEH5LVxvD4LYdJtadvMKw0XcojfVZqg5gsf5GRV9NNYIa1oqWV4f2beXpKk2neOw84UZmONayrym0yenb9CvunnNICS79VovHdPlornJELWyRx+JDGkuNh81BcK1S55fuJ9XafX5KJznNTiHANENmw6qY4ZyupLnNsBYk7noIWiMXqxvf0xZMvtydfETrsWWkta0kA+86JuR9f3W3gmy3UgCZk+vos9HDVQI5Wb3k77xCr/ABFiatMtZIAdNx9FQkqekXVWls2syxZdAZBEx1Wdh9kJJlxWjgWtoU2tMF52HVZS8uMlV5Oi7H2jQzXACp75+KRPcLTxADnXFm2A6nf9PRS2YVg1hnt81A1XH3heSZ02MDXa8DzV2HlU9kMvGWSeEbYHeZ8rrv34X4E0sAwuEGo51TydZv8A+QD5qg/hv+HlSry1sWwspCC2m4Q6p0kG4Z2Nz4a9qa2LBacONp8mYfJzKlxR9IiLSYwiIgCIiAqHEmBFF3tGj3HGSBs7X5/oo2o3mAIAJ+vb76K85hhBVpuY7Qj06HyKpbWGlLXfEDy/fYiFTkkvxUU/OKL6FYVqQkzcDcakdJt6hWbLcT7Vgc06kEHsdfDv9xizXCAgtcRBuLGT6T2VX4bzA0MQcPflcS5p7wSQPGAfXqqG9mlFszDDe0EPMAadBPUdFUeIMrFMNJuw2LQ3ruSdPC3krViX8u497708F91aYcwA9rWiIt6SqX0y+X0cKzzK3UX+0pkjeRb70U1kvEBq0hzgc7CA49Qfhd2ggg+XVW7PcrFVpIA8P18e/ULmePy59F5cwuaRNxbXa2yuVLJPGiuoeOucF5GJEA9NFgxWYNaC4uhvX787Kjuz6py8pa3m63n00WpiMbVqtDXOJA0H+lGfD09sV5vWkiy4PGe3qufzHl0aDr0nxsFNspyYmdfkqPlFY03X+51V0y7FNIHKQVV5WNp7Rp8XInPZI06Vwfv7svcZiAxqwYjHtbABknYa+i8weEL3B1URBlrJmI0J6n6LJGNt8qNF5EkR54c5zz1HXOwA+pnutDPeHA2kXU9QLi36C/6K7+X3otWvT5hB0Nj4GxWyM1Jo8+4T2ctyegXPkC9g3xK6lluHbTptZEQN9zvfTVUjhqg01W9i53nPL9Cr7hais8mtvRHDPGTcqaStE5cK+Iw7OUOmvTBBAMtLhz2P9srE3Gh1R7ADyiL7Ta3ZXD8O8F7TFGrFqLbf5PHL68of6qrDD5oZaSlnL8/4fdgcxrUHOL2tbz0nEknkfdszuLtPXlXoeBZdm/EDgT+Oc2vRc1mIYws974ajbkBxAJaQS6CAfiNukNwx+FfK5tTGPa6DPsmSQf8AJ5AkdgPNX58FXe18I4PJmMff0fhdws19KpiMRTa9tUFjGvaHAt/qMHqQAPA9VfMp4dwuFaW0MPTpBxBPK0XI0JOpjbopKlSDQA0AACABYDtC+1pxwonRjyZHdOmeQvURWFYREQBERAEREAUDxFgAYq9AQ4dR18r+vZTy+ajQRB0K41tHU9Mo+KAfAje+iq/E2SBzedh5XtuCLXGl+qtVagaNZ9Mz1aT+U/ceRWq1oBc1xsZInp0WSlpmyHtEBk+Y/wAUzleQ2rSu8dejgOhi/Q/OWrVQaYBA6Tb69VS+IMM/D1W16JuDcbEHVpOkH70UmzPqVSkGlxaSQG394F5E2G7ZM9eXuFCkn8LpZuYnEtYCQ4GD8ZMAbXsZ3keCqWaYplQ+6ybmSZ07X87rX4hzPnf7IH3KR5RYDtMC3X1K1GOtvP0+wqGmvhshLXZq4/KqbgXAcpAXxRytm0lbuIfDO+nivjD1YFh/uFKclufpDJjhPpGD/poBkAX1BGql+D8PhmVsQMVR9pTGFqVmSXDldSuR7pFiJHkFg55CsHC3DtTE4PMqzG8zjh3UKQ/M61SoB6Ux4q3C6ddmbO1MFd4QyolvtH3P73P6K0+yiFF8LYkOoiDa3zDb+FlJvrxY+X396qvItvsS+j1rCSZPgOi+atJznNpsEve4MYP7nWHkLk9mlYv4gR0t9+CvH4bZKXTi6jYBEUQRcg/FU7Aize0n+pSxY+VEMl8ZOR/9FfgsXUw1Uy6mSGuiA8Eh7XAd2mfEEbKwscIsuvcVcJYfHs5ao5Xj4ajbPbvruOxVcwP4WU2VQ6piq1WkP+37rJPd7IJHhHitGTC6eymM6U6ZScoyyriavsqDJOr3mzWaXcQNYItqV2PhzJGYOiKTLn4nvOr3HUn6AbAALdweDZSYGU2NY0aNaIHyWwrMeNQinJkdniQvUVpWEREAREQBERAEREAREQBERAQXFWD5qYqN+Jhny3+/FV9zOanOsXHdXuowEEHQqh5n/I9qxxIa2TP9pvKoyz0X4X/CFzqgx9FznOaxkHXqNI7+C53lhdSfIbztDuYSeW+k9tr9lZKrnYj3nyGTzMZsB1OxMHVe1KI2IPisXPRuUlKxLS17uYEEkm9pBNlnFYblWGrTEguDXMbJIcJAG+srQbwJmL6tHlw7iyuKbhUmW0w/84/oLW6i/bVTmPZ2ideQo6ZFVH81yjD1VgxvAGY0n+z/AIc1J0fTcC0+ZI5f/KFZeGfwrrPc1+MLadMXNNruZ7uxcLNHgSfBdWGvhVXkT92V3hnhTE4+TSinTFjVeDE7hoHxOAkxYWuQu4cNZHTwWGZh6clrJlztXEklzjG5JK38JhWUmNZTaGMaIa1ogADaFmWzHjUIw5Mrs5tn34au9s+tgqjafOS40XCGhxuS1zfhBMnljc3Asq1W4TzJxLRhYM/F7RnJ5Hmnl8pC7cvISsUt7E5aS0c54Y/DktIfjXNfERRYSWW/M4gF4/tiOsrorWwvQvVKZS+EKp19CIikRCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAqZ+KGBLsI+o0Xby8/dkifIfurmsWJoNe1zHAOa4EEHQg2IUaW0SmuL2cVoPby2sYEX2v0Wo/DhpLuYE+MAD08blTOfcEY3Dud/Dt9vQklgkc7Af6eU/EBcAi+nitDgbJKuJxvs8Xh6gosY5xkOYA4FvKCbagm1tAsPorejf7p47NbhbKqmYYoUmgjDsIdWeW2LZ+AdS+I7CT0nu7WwsWDwjKTQymxrGjQNAA9As62Y4ULSMWTI7ezyEXqKwrCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiA8ISF6iAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgP/2Q=="/>
        <div><div class="card-title">Lenha</div><div class="card-sub">Estoque, meta, recebimento</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-lenha">
          <div><b>Estoque:</b> <span data-f="estoque">--</span></div>
          <div><b>Meta:</b> <span data-f="meta">--</span></div>
          <div><b>Recebimento:</b> <span data-f="recebimento">--</span></div>
        </div>
        <div class="kpi">
          <span class="badge">Meta: <strong><span data-f="percentual">--</span>%</strong></span>
          <div class="progress"><i data-prog="lenha"></i></div>
          <svg class="spark" data-spark="lenha" viewBox="0 0 120 36" preserveAspectRatio="none"></svg>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-lenha">R$: --</div><button class="btn" data-open="lenha">Editar</button></div>
    </article>

    <!-- ARMAZENAMENTO -->
    <article class="card" data-key="armazenamento" data-cat="armazenagem">
      <div class="card-header">
        <img class="card-thumb" alt="Silo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmsou--klhnzJRP7pddsZf-W0XWl4bKUj2kA&s"/>
        <div><div class="card-title">Armazenamento</div><div class="card-sub">Capacidade, utilizado, dispon√≠vel</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-armazenamento">
          <div><b>Capacidade:</b> <span data-f="capacidade">--</span></div>
          <div><b>Utilizado:</b> <span data-f="utilizado">--</span></div>
          <div><b>Dispon√≠vel:</b> <span data-f="disponivel">--</span></div>
        </div>
        <div class="kpi">
          <span class="badge">Ocupa√ß√£o</span>
          <div class="progress"><i data-prog="armazenamento"></i></div>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-armazenamento">R$: --</div><button class="btn" data-open="armazenamento">Editar</button></div>
    </article>

    <!-- PESSOAS -->
    <article class="card" data-key="pessoa" data-cat="pessoas">
      <div class="card-header">
        <img class="card-thumb" alt="Equipe" src="https://images.unsplash.com/photo-1551836022-4c4c79ecde51?q=80&w=320&auto=format&fit=crop"/>
        <div><div class="card-title">Pessoas</div><div class="card-sub">Funcion√°rios, ativos e inativos</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-pessoa">
          <div><b>Total:</b> <span data-f="total">--</span></div>
          <div><b>Ativos:</b> <span data-f="ativos">--</span></div>
          <div><b>Inativos:</b> <span data-f="inativos">--</span></div>
        </div>
        <div class="kpi">
          <span class="badge">Ativa√ß√£o</span>
          <div class="progress"><i data-prog="pessoa"></i></div>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-pessoa">R$: --</div><button class="btn" data-open="pessoa">Editar</button></div>
    </article>

    <!-- GERAL -->
    <article class="card" data-key="geral" data-cat="estoques">
      <div class="card-header">
        <img class="card-thumb" alt="Estoque geral" src="data:image/jpeg;base64,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"/>
        <div><div class="card-title">Estoque Geral</div><div class="card-sub">Total, entrada, sa√≠da e saldo</div></div>
      </div>
      <div class="card-body">
        <div class="kv" id="detalhes-geral">
          <div><b>Total:</b> <span data-f="estoque_total">--</span></div>
          <div><b>Entrada:</b> <span data-f="entrada">--</span></div>
          <div><b>Sa√≠da:</b> <span data-f="saida">--</span></div>
          <div><b>Saldo:</b> <span data-f="saldo">--</span></div>
        </div>
      </div>
      <div class="card-footer"><div class="price" id="preco-geral">R$: --</div><button class="btn" data-open="geral">Editar</button></div>
    </article>
  </main>

  <!-- Materiais sobre Agroneg√≥cio -->
  <section class="materials">
    <h3>Materiais sobre Agroneg√≥cio</h3>
    <div class="grid" id="materialsGrid"></div>
  </section>

  <div class="overlay" id="overlay" aria-hidden="true" role="dialog" aria-modal="true">
    <form class="form" id="form" novalidate>
      <button type="button" class="close" aria-label="Fechar" title="Fechar">‚úï</button>
      <h2 id="form-title">Cadastro</h2>
      <input type="hidden" id="context" />
      <div class="fields"></div>
      <div class="actions">
        <button type="button" class="btn btn-secondary" data-cancel>Cancelar</button>
        <button type="submit" class="btn">Salvar</button>
      </div>
      <div class="form-msg" aria-live="polite" style="height:1.1em;color:var(--accent);"></div>
    </form>
  </div>

  <div class="toast" id="toast">Salvo com sucesso.</div>

  <script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm'

  // ========= Helpers =========
  const $ = (q,root=document)=>root.querySelector(q);
  const $$ = (q,root=document)=>Array.from(root.querySelectorAll(q));
  function showToast(msg){ const t=$('#toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1800); }
  function normalizeNumber(v){ if(v===''||v==null) return null; const n=Number(v.toString().replace(',','.')); return isFinite(n)?n:v; }

  // ========= Supabase =========
  const SUPABASE_URL = 'https://dylziaqkyavkfwjepqkp.supabase.co';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5bHppYXFreWF2a2Z3amVwcWtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NTc1OTgsImV4cCI6MjA2ODAzMzU5OH0.gy5jXxKOTgeCf0Rwq7ktLTz1pyoZ8dJjZOK9UB9rHCM';
  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  // ========= Config DB =========
  const dbConfig = {
    soja: { table: 'soja', orderBy: 'created_at',
      map: { estoque:'estoque', meta:'meta', recebimento:'recebimento', percentual:'percentual' } },
    // milho: colunas reais em min√∫sculas conforme o schema informado
    milho: { table: 'milho', orderBy: 'timestamp',
      map: { estoque:'estoqueatual', meta:'meta', recebimento:'recebimento', percentual:'pencentual_metal' } },
    trigo: { table: 'trigo', orderBy: 'created_at',
      map: { estoque:'estoque', meta:'meta', recebimento:'recebimento', percentual:'percentual' } },
    lenha: { table: 'lenha', orderBy: 'created_at',
      map: { estoque:'estoque', meta:'meta', recebimento:'recebimento', percentual:'percentual' } },
    armazenamento: { table: 'armazenamento', orderBy: 'created_at',
      map: { capacidade:'capacidade', utilizado:'utilizado', disponivel:'disponivel' } },
    pessoa: { table: 'pessoa', orderBy: 'created_at',
      map: { total:'total', ativos:'ativos', inativos:'inativos' } },
    geral: { table: 'geral', orderBy: 'created_at',
      map: { estoque_total:'estoque_total', entrada:'entrada', saida:'saida', saldo:'saldo' } },
  };

  // ========= Schemas de formul√°rio =========
  const schemas = {
    soja:{title:'Cadastro Soja',fields:[
      {key:'estoque',label:'Estoque Atual',type:'number',required:true,step:'0.01',hint:'Quantidade atual (t)'},
      {key:'meta',label:'Meta',type:'number',required:true,step:'0.01',hint:'Objetivo (t)'},
      {key:'recebimento',label:'Recebimento',type:'number',required:true,step:'0.01',hint:'Entrada prevista (t)'},
      {key:'percentual',label:'Percentual Meta (%)',type:'number',readonly:true,hint:'Calculado automaticamente'}
    ]},
    milho:{title:'Cadastro Milho',fields:[
      {key:'estoque',label:'Estoque Atual',type:'number',required:true,step:'0.01',hint:'Quantidade atual (t)'},
      {key:'meta',label:'Meta',type:'number',required:true,step:'0.01',hint:'Objetivo (t)'},
      {key:'recebimento',label:'Recebimento',type:'number',required:true,step:'0.01',hint:'Entrada prevista (t)'},
      {key:'percentual',label:'Percentual Meta (%)',type:'number',readonly:true,hint:'Calculado automaticamente'}
    ]},
    trigo:{title:'Cadastro Trigo',fields:[
      {key:'estoque',label:'Estoque Atual',type:'number',required:true,step:'0.01',hint:'Quantidade atual (t)'},
      {key:'meta',label:'Meta',type:'number',required:true,step:'0.01',hint:'Objetivo (t)'},
      {key:'recebimento',label:'Recebimento',type:'number',required:true,step:'0.01',hint:'Entrada prevista (t)'},
      {key:'percentual',label:'Percentual Meta (%)',type:'number',readonly:true,hint:'Calculado automaticamente'}
    ]},
    lenha:{title:'Cadastro Lenha',fields:[
      {key:'estoque',label:'Estoque Atual',type:'number',required:true,step:'0.01',hint:'Quantidade atual'},
      {key:'meta',label:'Meta',type:'number',required:true,step:'0.01',hint:'Objetivo'},
      {key:'recebimento',label:'Recebimento',type:'number',required:true,step:'0.01',hint:'Entrada prevista'},
      {key:'percentual',label:'Percentual Meta (%)',type:'number',readonly:true,hint:'Calculado automaticamente'}
    ]},
    armazenamento:{title:'Cadastro Armazenamento',fields:[
      {key:'capacidade',label:'Capacidade Total',type:'number',required:true,step:'0.01',hint:'Capacidade dos silos (t)'},
      {key:'utilizado',label:'Utilizado',type:'number',required:true,step:'0.01',hint:'Volume ocupado (t)'},
      {key:'disponivel',label:'Dispon√≠vel',type:'number',required:false,readonly:true,step:'0.01',hint:'Calculado: capacidade - utilizado'}
    ]},
    pessoa:{title:'Cadastro Pessoa',fields:[
      {key:'total',label:'Total de Funcion√°rios',type:'number',required:true,step:'1',hint:'Quantidade total'},
      {key:'ativos',label:'Ativos',type:'number',required:true,step:'1',hint:'Funcionando no momento'},
      {key:'inativos',label:'Inativos',type:'number',required:true,step:'1',hint:'Afastados ou f√©rias'}
    ]},
    geral:{title:'Cadastro Estoque Geral',fields:[
      {key:'estoque_total',label:'Estoque Total',type:'number',required:true,step:'0.01',hint:'Consolidado (t)'},
      {key:'entrada',label:'Entrada',type:'number',required:true,step:'0.01',hint:'Entradas no per√≠odo'},
      {key:'saida',label:'Sa√≠da',type:'number',required:true,step:'0.01',hint:'Sa√≠das no per√≠odo'},
      {key:'saldo',label:'Saldo',type:'number',required:true,step:'0.01',hint:'Total - Sa√≠das + Entradas'}
    ]}
  };

  // ========= Materiais =========
  const materials = [
    { title:'Conab ‚Äì Acompanhamento de Safras', url:'https://www.conab.gov.br/', tag:'Safras', desc:'Boletins, estimativas e pre√ßos.' },
    { title:'EMBRAPA ‚Äì Tecnologias e Sistemas de Produ√ß√£o', url:'https://www.embrapa.br/', tag:'Tecnologia', desc:'Boas pr√°ticas, cultivares e manejo.' },
    { title:'MAPA ‚Äì Minist√©rio da Agricultura', url:'https://www.gov.br/agricultura/pt-br', tag:'Pol√≠ticas', desc:'Regula√ß√µes, programas e not√≠cias.' },
    { title:'Cepea/Esalq ‚Äì Indicadores de Pre√ßos', url:'https://www.cepea.esalq.usp.br/', tag:'Mercado', desc:'Indicadores de soja, milho, boi, etc.' },
    { title:'CNA ‚Äì Canal do Produtor', url:'https://www.cnabrasil.org.br/', tag:'CNA', desc:'Conte√∫dos e servi√ßos para produtores.' }
  ];
  const grid = $('#materialsGrid');
  grid.innerHTML = materials.map(m=>`<article class="res-card"><span class="tag">${m.tag}</span><a href="${m.url}" target="_blank" rel="noopener">${m.title}</a><span class="desc">${m.desc}</span></article>`).join('');

  // ========= State & Mappers =========
  const state = { soja:{}, milho:{}, trigo:{}, lenha:{}, armazenamento:{}, pessoa:{}, geral:{}, _series:{} };
  const invert = (obj)=>Object.fromEntries(Object.entries(obj).map(([a,b])=>[b,a]));
  const toDb = (key, uiRow)=>{ const map=dbConfig[key].map||{}; const out={}; Object.entries(uiRow).forEach(([k,v])=>out[map[k]||k]=v); return out; };
  const fromDb = (key, dbRow)=>{ const rev=invert(dbConfig[key].map||{}); const out={}; Object.entries(dbRow||{}).forEach(([k,v])=>out[rev[k]||k]=v); return out; };
  const mapFieldToDb = (key, uiField)=> (dbConfig[key].map||{})[uiField] || uiField;

  // ========= UI Refs =========
  const overlay = $('#overlay');
  const form = $('#form');
  const fieldsBox = form.querySelector('.fields');
  const formTitle = $('#form-title');
  const contextInput = $('#context');
  const themeToggle = $('#themeToggle');
  const refreshBtn = $('#refreshBtn');
  const tabs = $('#tabs');
  const kpisEl = $('#kpis');

  // ========= Tabs =========
  function setTab(cat){
    $$('.tab').forEach(b=>b.classList.toggle('active', b.dataset.cat===cat));
    localStorage.setItem('tab',cat);
    kpisEl.style.display = (cat==='operacao') ? 'grid' : 'none';
    $$('.main .card').forEach(card=>{
      const c = card.dataset.cat || 'operacao';
      const show = cat==='operacao' ? true : (c===cat);
      card.style.display = show ? 'grid' : 'none';
    });
  }
  tabs.addEventListener('click', (e)=>{
    const btn = e.target.closest('.tab');
    if(!btn) return;
    setTab(btn.dataset.cat);
  });
  setTab(localStorage.getItem('tab') || 'operacao');

  // ========= Tema =========
  const savedTheme = localStorage.getItem('theme');
  if(savedTheme) document.body.setAttribute('data-theme', savedTheme);
  themeToggle.addEventListener('click',()=>{
    const next = document.body.getAttribute('data-theme')==='dark' ? '' : 'dark';
    if(next) document.body.setAttribute('data-theme', next); else document.body.removeAttribute('data-theme');
    localStorage.setItem('theme', next);
  });

  // ========= Atalhos =========
  window.addEventListener('keydown', (e)=>{
    if(e.altKey||e.ctrlKey||e.metaKey) return;
    const k=e.key.toLowerCase();
    if(k==='1') return setTab('operacao');
    if(k==='2') return setTab('estoques');
    if(k==='3') return setTab('pessoas');
    if(k==='4') return setTab('armazenagem');
    if(k==='t') return themeToggle.click();
    if(k==='r') return refreshBtn.click();
    if(k==='n') return openForm('soja');
  });

  // ========= Formul√°rio =========
  function openForm(key){
    const schema = schemas[key]; if(!schema) return;
    formTitle.textContent = schema.title; contextInput.value = key; fieldsBox.innerHTML='';
    const frag = document.createDocumentFragment();
    schema.fields.forEach(f=>{
      const id = `f_${key}_${f.key}`;
      const wrap = document.createElement('div'); wrap.className='field';
      wrap.innerHTML = `<label for="${id}" class="label">${f.label}${f.required?' *':''}</label>
        <input id="${id}" class="input" inputmode="decimal" ${f.readonly?'readonly':''} type="${f.type}" data-key="${f.key}" ${f.required?'required':''} ${f.step?`step="${f.step}"`:''}/>`+
        `${f.hint?`<div class="hint">${f.hint}</div>`:''}`+
        `<div class="error-msg" data-err="${f.key}"></div>`;
      frag.appendChild(wrap);
    });
    fieldsBox.appendChild(frag);
    const current = state[key] || {};
    fieldsBox.querySelectorAll('input').forEach(i=>{ const k=i.dataset.key; if(current[k]!=null) i.value=current[k]; });
    maybeWirePercentCalc();
    maybeWireStorageCalc();
    showOverlay();
    fieldsBox.querySelector('input:not([readonly])')?.focus();
  }
  function maybeWirePercentCalc(){
    const pct = fieldsBox.querySelector('input[data-key="percentual"]'); if(!pct) return;
    const meta = fieldsBox.querySelector('input[data-key="meta"]');
    const recebimento = fieldsBox.querySelector('input[data-key="recebimento"]');
    const calc = ()=>{
      const m = parseFloat(meta?.value);
      const r = parseFloat(recebimento?.value);
      pct.value = (isFinite(m) && isFinite(r) && m > 0) ? ((r / m) * 100).toFixed(1) : '';
    };
    meta?.addEventListener('input', calc);
    recebimento?.addEventListener('input', calc);
    calc();
  }
  function maybeWireStorageCalc(){
    const cap = fieldsBox.querySelector('input[data-key="capacidade"]');
    const uti = fieldsBox.querySelector('input[data-key="utilizado"]');
    const disp = fieldsBox.querySelector('input[data-key="disponivel"]');
    if(!cap||!uti||!disp) return;
    const calc = ()=>{
      const c = parseFloat(cap.value), u = parseFloat(uti.value);
      disp.value = (isFinite(c)&&isFinite(u)) ? Math.max(0, c - u).toFixed(2) : '';
    };
    cap.addEventListener('input',calc); uti.addEventListener('input',calc); calc();
  }
  function showOverlay(){ overlay.classList.add('active'); overlay.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
  function hideOverlay(){ overlay.classList.remove('active'); overlay.setAttribute('aria-hidden','true'); document.body.style.overflow=''; form.reset(); fieldsBox.innerHTML=''; }
  overlay.addEventListener('click',e=>{ if(e.target===overlay) hideOverlay(); });
  form.querySelector('.close').addEventListener('click', hideOverlay);
  form.querySelector('[data-cancel]').addEventListener('click', hideOverlay);
  window.addEventListener('keydown',e=>{ if(e.key==='Escape'&&overlay.classList.contains('active')) hideOverlay(); });

  // Submit -> insert (com valida√ß√£o)
  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const submitBtn = form.querySelector('button[type="submit"]');
    const key = contextInput.value; const { table } = dbConfig[key];
    const inputs = [...fieldsBox.querySelectorAll('input')];

    // limpa erros
    let firstError=null; inputs.forEach(i=>{ const el=fieldsBox.querySelector(`[data-err="${i.dataset.key}"]`); if(el) el.textContent=''; i.classList.remove('error'); });
    // valida
    for(const i of inputs){
      if(i.hasAttribute('required') && !i.value){
        fieldsBox.querySelector(`[data-err="${i.dataset.key}"]`).textContent='Campo obrigat√≥rio';
        i.classList.add('error'); if(!firstError) firstError=i;
      }
      if(i.type==='number' && i.value){ const n=Number(i.value.replace(',','.')); if(Number.isNaN(n)){ fieldsBox.querySelector(`[data-err="${i.dataset.key}"]`).textContent='N√∫mero inv√°lido'; i.classList.add('error'); if(!firstError) firstError=i; }}
    }
    if(firstError){ firstError.focus(); return; }

    // (re)calcula campos derivados antes de enviar
    // Percentual = recebimento / meta * 100 (estoque N√ÉO entra)
    const metaI = fieldsBox.querySelector('input[data-key="meta"]');
    const recI  = fieldsBox.querySelector('input[data-key="recebimento"]');
    const pctI  = fieldsBox.querySelector('input[data-key="percentual"]');
    if(pctI && metaI && recI){
      const m = parseFloat(metaI.value);
      const r = parseFloat(recI.value);
      pctI.value = (isFinite(m) && isFinite(r) && m > 0) ? ((r / m) * 100).toFixed(1) : '';
    }

    // Armazenamento: dispon√≠vel = capacidade - utilizado
    const capI = fieldsBox.querySelector('input[data-key="capacidade"]');
    const utiI = fieldsBox.querySelector('input[data-key="utilizado"]');
    const dispI= fieldsBox.querySelector('input[data-key="disponivel"]');
    if(capI && utiI && dispI){
      const c = parseFloat(capI.value), u = parseFloat(utiI.value);
      dispI.value = (isFinite(c) && isFinite(u)) ? Math.max(0, c - u).toFixed(2) : '';
    }

    const uiRow = Object.fromEntries(inputs.map(i=>[i.dataset.key, normalizeNumber(i.value)]));

    // Seguran√ßa extra: se n√£o houver valor num√©rico v√°lido para percentual, remove do payload
    if('percentual' in uiRow){
      const v = Number(uiRow.percentual);
      if(!isFinite(v)) delete uiRow.percentual;
    }

    // Monta linha de DB respeitando o mapeamento (ex.: milho -> pencentual_metal)
    const dbRow = toDb(key, uiRow);

    submitBtn.disabled=true; const oldText=submitBtn.textContent; submitBtn.textContent='Salvando...';
    const { data, error } = await supabase.from(table).insert(dbRow).select().single();
    submitBtn.disabled=false; submitBtn.textContent=oldText;

    if(error){ showToast('Erro ao salvar: '+error.message); return; }
    state[key] = fromDb(key, data);
    updateCard(key);
    hideOverlay();
    showToast('Salvo com sucesso.');
  });

  // ========= Fetch & Realtime =====
  function primaryDbColumnForSeries(key){
    if(['soja','milho','trigo','lenha'].includes(key)) return mapFieldToDb(key,'estoque');
    if(key==='geral') return mapFieldToDb(key,'estoque_total');
    if(key==='armazenamento') return mapFieldToDb(key,'utilizado');
    if(key==='pessoa') return mapFieldToDb(key,'total');
    return null;
  }

  async function fetchLatest(key){
    const { table, orderBy } = dbConfig[key];
    let { data, error } = await supabase.from(table).select('*').order(orderBy,{ascending:false}).limit(1);
    if(!error && data && data[0]){ state[key]=fromDb(key, data[0]); updateCard(key); }
    const col = primaryDbColumnForSeries(key); if(!col) return;
    const sel = `${col}`;
    const { data: series, error: sErr } = await supabase.from(table).select(sel).order(orderBy,{ascending:false}).limit(12);
    if(!sErr && series){
      const arr = series.map(r=>Number(r[col])).filter(n=>isFinite(n)).reverse();
      state._series[key]=arr; drawSpark(key, arr);
    }
  }

  async function loadAll(){
    $$('.card').forEach(c=>c.classList.add('loading'));
    await Promise.all(Object.keys(dbConfig).map(k=>fetchLatest(k)));
    $$('.card').forEach(c=>c.classList.remove('loading'));
    updateKpis();
    updateBadges();
  }

  // Realtime INSERT
  Object.entries(dbConfig).forEach(([key,{table}])=>{
    supabase.channel(`realtime:${table}`)
      .on('postgres_changes',{ event:'INSERT', schema:'public', table },(payload)=>{
        state[key]=fromDb(key, payload.new);
        updateCard(key);
      })
      .subscribe();
  });

  // ========= UI Update =========
  function drawSpark(key, arr){
    const svg = document.querySelector(`[data-spark="${key}"]`); if(!svg) return;
    const w=120, h=36; if(!arr || arr.length<2){ svg.innerHTML=''; return; }
    const min=Math.min(...arr), max=Math.max(...arr); const pad=3;
    const scaleX = (i)=> (i/(arr.length-1))*(w-2*pad)+pad;
    const scaleY = (v)=> h-pad - (max===min?0:( (v-min)/(max-min) )*(h-2*pad));
    const d = arr.map((v,i)=> (i?'L':'M')+scaleX(i)+','+scaleY(v)).join(' ');
    svg.innerHTML = `<path d="${d}" fill="none" stroke="currentColor" stroke-width="2" opacity="0.85"/>
                     <circle cx="${scaleX(arr.length-1)}" cy="${scaleY(arr[arr.length-1])}" r="2.5" fill="currentColor"/>`;
  }

  function updateKpis(){
    const keysEstoque=['soja','milho','trigo','lenha'];
    const somaEstoque = keysEstoque.map(k=>Number(state[k]?.estoque)).filter(n=>isFinite(n)).reduce((a,b)=>a+b,0);
    $('#kpi-estoque').textContent = somaEstoque? new Intl.NumberFormat('pt-BR').format(somaEstoque) : '--';
    $('#kpi-estoque-hint').textContent = 'atualizado ' + new Date().toLocaleString('pt-BR');

    // Meta m√©dia (%) = recebimento / meta * 100
    const percentuais = keysEstoque.map(k=>{
      const m=Number(state[k]?.meta);
      const r=Number(state[k]?.recebimento);
      return (isFinite(m) && isFinite(r) && m>0) ? (r/m*100) : null;
    }).filter(v=>v!=null);
    const media = percentuais.length? (percentuais.reduce((a,b)=>a+b,0)/percentuais.length) : null;
    $('#kpi-meta').textContent = media? media.toFixed(1)+'%' : '--%';

    const u=Number(state.armazenamento?.utilizado), c=Number(state.armazenamento?.capacidade);
    const occ=(isFinite(u)&&isFinite(c)&&c>0)?(u/c*100):null;
    $('#kpi-armazenamento').textContent = occ? occ.toFixed(1)+'%' : '--%';

    const a=Number(state.pessoa?.ativos), t=Number(state.pessoa?.total);
    const ativ=(isFinite(a)&&isFinite(t)&&t>0)?(a/t*100):null;
    $('#kpi-pessoas').textContent = ativ? ativ.toFixed(1)+'%' : '--%';
  }

  function setProgressBar(i, pct){
    i.classList.remove('bad','warn','ok');
    if(pct < 50) i.classList.add('bad');
    else if(pct < 90) i.classList.add('warn');
    else i.classList.add('ok');
    i.style.width = pct + '%';
  }

  function updateCard(key){
    const card = document.querySelector(`.card[data-key="${key}"]`); if(!card) return;
    const data = state[key] || {};
    card.querySelectorAll('[data-f]').forEach(span=>{
      const k=span.getAttribute('data-f');
      let val=data?.[k];
      if(typeof val==='number') val=new Intl.NumberFormat('pt-BR').format(val);
      span.textContent=(val??'--');
    });

    // progressos
    const i = card.querySelector(`[data-prog="${key}"]`);
    if(i){
      let pct = 0;
      if(['soja','milho','trigo','lenha'].includes(key)){
        const m = Number(data?.meta); const r = Number(data?.recebimento);
        pct = isFinite(m) && isFinite(r) && m>0 ? Math.max(0, Math.min(100, (r/m)*100)) : 0;
      }
      if(key==='armazenamento'){
        const u = Number(data?.utilizado); const c = Number(data?.capacidade);
        pct = isFinite(u)&&isFinite(c)&&c>0 ? Math.max(0, Math.min(100, (u/c)*100)) : 0;
      }
      if(key==='pessoa'){
        const a = Number(data?.ativos); const t = Number(data?.total);
        pct = isFinite(a)&&isFinite(t)&&t>0 ? Math.max(0, Math.min(100, (a/t)*100)) : 0;
      }
      setProgressBar(i, pct);
      const pctSpan = card.querySelector('[data-f="percentual"]');
      if(pctSpan && !pctSpan.textContent.trim()) pctSpan.textContent = pct.toFixed(1);
    }

    // pre√ßo (pega primeiro n√∫mero como destaque)
    const price = card.querySelector('.price');
    if(price){
      const numbers = Object.values(data||{}).map(v=>Number(v)).filter(v=>isFinite(v));
      price.textContent = numbers.length?`R$: ${new Intl.NumberFormat('pt-BR',{maximumFractionDigits:2}).format(numbers[0])}`:'R$: --';
    }

    // spark
    if(state._series[key]) drawSpark(key, state._series[key]);

    updateKpis();
    updateBadges();
  }

  // ========= Bind Bot√µes =========
  $$('.btn[data-open]').forEach(btn=>btn.addEventListener('click',()=>openForm(btn.dataset.open)));
  refreshBtn.addEventListener('click',()=>{ loadAll(); showToast('Atualizado'); });

  // ========= Start =========
  (async()=>{ await loadAll(); })();

  // ========= Testes r√°pidos (sanidade) =========
  (function runSelfTests(){
    try{
      console.group('%cSanidade do Dashboard','color:#22c55e;font-weight:900');
      // Teste 1: Tabs alternam categorias
      setTab('estoques');
      const allCards = $$('.main .card');
      const hiddenOk = allCards.every(c => (c.dataset.cat==='estoques') ? (c.style.display!=='none') : (c.style.display==='none'));
      console.assert(hiddenOk, '[Tabs] deveria filtrar por categoria');
      setTab('operacao');

      // Teste 2: Form de milho renderiza campos esperados
      openForm('milho');
      const hasMeta = !!fieldsBox.querySelector('input[data-key="meta"]');
      const hasReceb = !!fieldsBox.querySelector('input[data-key="recebimento"]');
      const hasPct = !!fieldsBox.querySelector('input[data-key="percentual"]');
      console.assert(hasMeta && hasReceb && hasPct,'[Form] campos meta/recebimento/percentual presentes');

      // Teste 3: C√°lculo percentual = recebimento/meta*100 (estoque n√£o entra)
      const m = fieldsBox.querySelector('input[data-key="meta"]');
      const r = fieldsBox.querySelector('input[data-key="recebimento"]');
      const p = fieldsBox.querySelector('input[data-key="percentual"]');
      m.value='200'; r.value='400';
      m.dispatchEvent(new Event('input')); r.dispatchEvent(new Event('input'));
      console.assert(p.value==='200.0','[Percentual] esperado 200.0 quando meta=200 receb=400');
      // Teste 3b: meta=0 => vazio
      m.value='0'; r.value='100';
      m.dispatchEvent(new Event('input')); r.dispatchEvent(new Event('input'));
      console.assert(p.value==='','[Percentual] quando meta=0 deve ficar vazio');
      hideOverlay();

      console.groupEnd();
    }catch(err){ console.error('Falha nos testes de sanidade', err); }
  })();

  // ========= Fun√ß√µes auxiliares =========
  function updateBadges(){
    // Atualiza badges e barras com base no estado
    ['soja','milho','trigo','lenha'].forEach(key=>{
      const card = document.querySelector(`.card[data-key="${key}"]`); if(!card) return;
      const span = card.querySelector('[data-f="percentual"]');
      let pct = Number(state[key]?.percentual);
      if(!isFinite(pct)){
        const m = Number(state[key]?.meta); const r = Number(state[key]?.recebimento);
        pct = (isFinite(m) && isFinite(r) && m>0) ? (r/m*100) : NaN;
      }
      if(isFinite(pct)){
        span.textContent = Number(pct).toFixed(1);
        const bar = card.querySelector(`[data-prog="${key}"]`); if(bar) setProgressBar(bar, Math.max(0,Math.min(100,pct)));
      }
    });
    // Armazenamento
    (function(){
      const key='armazenamento'; const card=document.querySelector(`.card[data-key="${key}"]`); if(!card) return;
      const u=Number(state[key]?.utilizado), c=Number(state[key]?.capacidade);
      const pct=isFinite(u)&&isFinite(c)&&c>0?(u/c*100):NaN; const bar=card.querySelector('[data-prog="armazenamento"]');
      if(bar&&isFinite(pct)) setProgressBar(bar, Math.max(0,Math.min(100,pct)));
    })();
    // Pessoas
    (function(){
      const key='pessoa'; const card=document.querySelector(`.card[data-key="${key}"]`); if(!card) return;
      const a=Number(state[key]?.ativos), t=Number(state[key]?.total);
      const pct=isFinite(a)&&isFinite(t)&&t>0?(a/t*100):NaN; const bar=card.querySelector('[data-prog="pessoa"]');
      if(bar&&isFinite(pct)) setProgressBar(bar, Math.max(0,Math.min(100,pct)));
    })();
  }
</script>

</body>
</html>
>

